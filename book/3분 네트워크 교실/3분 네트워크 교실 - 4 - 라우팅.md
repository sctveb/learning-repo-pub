# 3분 네트워크 교실 - 4 - 라우팅

### 주소와 경로

IP 주소는 '최종 수신처', MAC 주소는 '다음 수신처'를 결정함



### 라우터

- 네트워크에 경계상에서 복수의 네트워크와 연결

- 다음 수신처를 지정하기 위해 수행하는 홉 바이 홉 방식
- 라우터가 없으면 다른 네트워크에 데이터그램을 보낼 수 없음
- 컴퓨터에 설정되어 있는 라우터는 디폴트 게이트웨이



### 디폴트 게이트웨이

- 라우터는 브로드캐스트를 다른 네트워크에 보내지 않음
- 브로드캐스트 도메인 = 브로드캐스트가 미치는 범위
- 다른 네트워크로 데이터를 전송하는 순서
  1. 데이터를 디폴트 게이트웨어로 보냄
  2. 디폴트 게이트웨이로 ARP를 송신
  3. 디폴트 게이트웨이의 MAC 주소를 수신처 MAC 주소로 지정



### 라우팅

- 정적 라우팅 : 관리자가 수동으로 경로를 지정하는 방법

- 동적 라우팅 : 라우터가 자동으로 정보를 교환해서 경로를 알아내는 방법
  - 단점1 : 라우터끼리 정보를 교환하는 만큼 회선 리소스를 사용
  - 단점2 : 서로 교환한 정보를 가지고 최적의 경로를 계산해야 함
  - 단점3 : 모든 라우터가 동일한 정보를 가져야 함(= 컨버전스)



### 라우팅 프로토콜

자율화 시스템(AS) : 하나의 관리 단체에 의해 관리되는 네트워크 집합체

EGP : AS 간 라우팅용

IGP : AS 내부 라우팅용

라우팅 프로토콜에 의해 근접해 있는 라우터 간의 네트워크 정보를 서로 교환



### RIP

디스턴스벡터형 라우팅 프로토콜

라우팅 테이블을 그대로 교환하는 것, 30초에 1번

6번 수신 받지 않으면 장애가 발생했다고 간주하고 라우터를 사용하는 경로를 파기

메트릭 : 최적의 경로를 결정할 떄의 판단기준

홉 수 : 수신처 네트워크까지 통과하는 라우터 수



### ICMP

인터넷 제어 메시지 프로토콜, 에러 보고 프로토콜

- Query 메시지 : 상태를 조사히기 위한 메시지
- Error 메시지 : 에러를 통지하기 위한 메시지
- 기타 등등 

TTL : Time To Live, 라우터를 경유할 떄마다 줄어드는 데이터 생존시간



### Echo와 Time Exceeded

송신측은 에코 요청을 보내고, 수신한 컴퓨터는 에코 응답을 돌려줌 (ping)

Time Exceeded : 시간초과에 의한 패킷 파기